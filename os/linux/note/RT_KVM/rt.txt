PREEMPT_RT 内核
实时 KVM —— 实时虚拟化可能吗？


实时的重点是准确性，精确性，而不是速度。
允许的最慢响应时间可能小到几毫秒，并且 99.999% 的这些关键点工作
都要被即时处理，如果没有被及时处理的话... (想想火箭爆炸吧)，总之
要全部及时的处理好。速度是重要的，但是要一直保证这种低延迟会带来
另一个问题，那就是产出下降。

几乎每一个潜在的系统因素都来自于内核。
比如:
(1) 某个驱动程序可能会关闭中断而阻断高优先级的程序的调度。
(2) 非实时内核中的自旋锁也是另外一个潜在的原因，因为 linux 
	在持有自旋锁的同时不能进行 schedule() 调度。
	
这些问题可以通过运行 PREEMPT_RT(实时内核补丁集)构建的内核控制。
除了临界区代码，一个 PREEMPT_RT 内核致力于使 linux 的每一部分都是可抢占的。

大多数的修改要求已经被并入 linus 的内核结构中：
(1) 抢占式内核支持，
(2) 优先级继承，
(3) 高分辨率定时器，
(4) 线程中断处置支持，
(5) 自旋锁元注解和 NO_HZ_FULL 模式。

虽然 PREEMPT_RT 补丁很大，但和过去相比已经优化了很多。
目前应该解决的主要三件事是：
(1) 把 non-raw 自旋锁转为优先级继承互斥锁，
(2) 把中断处理真正放在线程中运行以便实时任务可以抢占他们，
(3) 支持抢占的 RCU(Read-Copy Update，读取-复制更新)实现。
