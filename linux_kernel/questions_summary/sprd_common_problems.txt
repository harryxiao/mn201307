common problems


对遇到的问题理解的清楚不清楚、深入不深入。

1. 机器功耗高的问题，怎么来解决？
   （1）拆解法，将器件一个一个拆除，排除是否是哪个器件引起的
	(2) 拆解完器件，还是有功耗高的问题。 看灭屏后是否有apk被频繁唤醒。
		通过搜索 "FG change" 可以看到前台切换的apk.
		通过搜索 “” 来判定引起功耗高的apk源头：
		Wake Lock 唤醒锁机制;
		上层的log: data/logs/aplog； adb shell logcat

2. TP 遇到过哪些问题？
	哪些主观问题？
	哪些客观问题？
	1、打静电关机， 开启静电保护； 打静电音量加减， 按键防抖;
	2、灭屏TP引起电流高， i2c 中断不断被处罚，中断方式问题。
	3、关机测试里有个apk, 可以划线、按点
	4、TP兼容； TP兼容引起另一个TP不能使用， 用于申请中断的gpio 没有被free， 导致第一个tp没有被probe到后，
	第二个TP无法正常申请中断；
	5、 调试第四个按键，同时按下home和back, linux 的key值和android 的key 值是不一样的， 有一个映射， 
		在调试gpio key 的时候遇到过因为这个映射没加遇到的问题。
	6、 TP 跳点、点不准、划线不准 等FAE来调试固件
	
	
3. sensor 校准是怎么做的？什么原理？
	利用重力加速度， 比如（0，0,9.8）， 算出一个偏移量。
	校准数据是保存到哪里？出厂就要校准吗？在android 有没有一个地方，可以保存不被恢复出厂数据后删除？
	
4. audio dma attack 是怎么做测试的？目的是什么

5、 power 遇到过哪些问题？
	1、电池曲线调试
	2、ntc 调试
	3、电量跳变（别人调的）

6、 lcd 遇到哪些问题？
	1、 闪屏
	2、 竖条纹
	3、 屏漏电，引起低电流高
	4、 不支持qhd 的7731c平台， 让他支持qhd
	5、 

7、 sensor 遇到的问题？
	1、兼容一个新的Sensor， 空指针引起重启和hal层没有new 一个对象引起重启
	2、距离感应的距离，

8、  Monkey Test 报了一个重启的bug, 提供了log, 怎么来解决？
		/data/logs/下面有 crashlog0 crashlog1 这样的， 数字最大的就是最近一次重启的log ,
		里面有backtrace(Call trace), 分析调用栈， 工具有gdb, addrtoline,
		address to line 这个工具要跟上地址和vmlinux, 来调试kernel引起的重启。
		需要学习一下这两个的使用

9、 camera 遇到过哪些问题
	1、效果问题： 镜像、颜色反、切换时闪蓝光、
	2、录像不清晰？ 修改帧率
	3、点不亮:
	
--------------------------------------------------------------------------------
2018.1.20
sprd:
1. camera 的数据如何拷贝到用户空间? 用 dma 了吗?

2. camera 支持多少种，怎么支持多种的？

不知道i2c slave 从地址，如何检测？
i2cdetect -y 1
挂在同一总线上的i2c 设备地址要不同

